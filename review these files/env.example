# =====================================================================
# üç£ Sushi Kitchen ‚Äî Environment Configuration (aligned to Menu v2.3)
# Copy to `.env` and customize. Empty values = service off by default.
# =====================================================================

# ---------------------------------------------------------------------
# Stack Profiles & Feature Groups (map to Menu "styles")
# core = Hosomaki baseline (Ollama/LiteLLM/n8n/Supabase/Caddy/Redis)
# ---------------------------------------------------------------------
STACK_PROFILE=core

# Fine-grained toggles
ENABLE_HOSOMAKI=true        # core runtime, APIs, proxy, cache
ENABLE_FUTOMAKI=false       # RAG DBs / graphs (Qdrant/Neo4j/etc.)
ENABLE_TEMAKI=false         # voice/UX (Whisper, Piper, Open WebUI)
ENABLE_URAMAKI=false        # media & image/video (ComfyUI, FFmpeg, etc.)
ENABLE_DRAGON=false         # observability/governance (Grafana/OTel/etc.)
ENABLE_TAMAGO=false         # dev tools (VS Code Server, Jupyter, etc.)
ENABLE_SPIDER=false         # MLOps/experiments (MLflow, Ray, etc.)
ENABLE_SHOYU=false          # data lifecycle (MinIO/backups/pgAdmin)
ENABLE_HANKO=false          # auth/secrets (Authentik/Infisical/etc.)
ENABLE_GUNKANMAKI=false     # high-perf inference (vLLM/TGI/Triton)
ENABLE_MAKIMONO=false       # collaboration/docs (Gitea, Homepage, APIs)

# Legacy roll-ups (keep for back-compat with compose includes)
ENABLE_OBSERVABILITY=false
ENABLE_MEDIA=false
ENABLE_EXTRAS=false

# ---------------------------------------------------------------------
# Domain / Reverse Proxy
# ---------------------------------------------------------------------
DOMAIN=localhost
EMAIL_ACME=admin@example.com   # used by Caddy for HTTPS (if not localhost)

# ---------------------------------------------------------------------
# Hosomaki ‚Äî Core
# ---------------------------------------------------------------------
# Postgres (shared by app services; Supabase bundle can override)
POSTGRES_USER=sushi
POSTGRES_PASSWORD=change_me_secure_password
POSTGRES_DB=sushi_kitchen
POSTGRES_PORT=5432

# Redis (cache/queue for n8n, web backends)
REDIS_PORT=6379
REDIS_PASSWORD=change_me_redis_password

# Caddy (reverse proxy)
CADDY_HTTP_PORT=80
CADDY_HTTPS_PORT=443

# LiteLLM (unified LLM gateway)
LITELLM_ENABLE=false
LITELLM_PORT=4000
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
# Example upstreams LiteLLM might route to:
GEMINI_API_KEY=
COHERE_API_KEY=

# Ollama (local models)
OLLAMA_HOST=http://localhost:11434

# n8n (automation)
N8N_ENCRYPTION_KEY=change_me_n8n_encryption_key_32_chars
N8N_PORT=5678
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=
N8N_BASIC_AUTH_PASSWORD=

# Supabase (web app uses these; DB is under Postgres/Supabase bundle)
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# ---------------------------------------------------------------------
# Futomaki ‚Äî Knowledge & RAG
# ---------------------------------------------------------------------
# Qdrant
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334

# Neo4j
NEO4J_USER=neo4j
NEO4J_PASSWORD=change_me_neo4j_password
NEO4J_BOLT_PORT=7687
NEO4J_HTTP_PORT=7474

# Weaviate (optional)
WEAVIATE_HTTP_PORT=8080
WEAVIATE_QUERY_DEFAULTS_LIMIT=25

# AnythingLLM (optional)
ANYTHINGLLM_PORT=3001
ANYTHINGLLM_JWT_SECRET=change_me_anyllm_jwt
ANYTHINGLLM_ACCESS_TOKEN=

# Infinity (Embeddings server)
INFINITY_PORT=7997
INFINITY_MODEL_ID=sentence-transformers/all-MiniLM-L6-v2

# Flowise (optional)
FLOWISE_PORT=3002
FLOWISE_USERNAME=
FLOWISE_PASSWORD=
FLOWISE_DATABASE_URL=

# Dify (optional)
DIFY_PORT=3003
DIFY_CONSOLE_ADMIN_EMAIL=
DIFY_CONSOLE_ADMIN_PASSWORD=

# ---------------------------------------------------------------------
# Temaki ‚Äî Voice & Interaction
# ---------------------------------------------------------------------
OPEN_WEBUI_PORT=8080  # popular chat UI for Ollama
WHISPER_SERVER_PORT=9006
PIPER_SERVER_PORT=9500

# ---------------------------------------------------------------------
# Uramaki ‚Äî Visual / Creative
# ---------------------------------------------------------------------
COMFYUI_PORT=8188
# FFmpeg / ImageMagick: usually no env required
RCLONE_CONFIG_PATH=/data/rclone/rclone.conf

# ---------------------------------------------------------------------
# Dragon Roll ‚Äî Observability & Governance
# ---------------------------------------------------------------------
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_grafana

CADVISOR_PORT=8085

# OpenTelemetry Collector (OTLP defaults)
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_COLLECTOR_OTLP_GRPC=4317
OTEL_COLLECTOR_OTLP_HTTP=4318

# Loki / Promtail (optional logs)
LOKI_PORT=3100
PROMTAIL_CONFIG_PATH=/etc/promtail/config.yml

# Langfuse (LLM analytics)
LANGFUSE_PORT=3030
LANGFUSE_HOST=http://localhost:3030
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=

# ---------------------------------------------------------------------
# Tamago ‚Äî Dev Tooling
# ---------------------------------------------------------------------
# Jupyter
JUPYTER_TOKEN=change_me_jupyter_token
JUPYTER_PORT=8888
PUID=1000
PGID=1000

# VS Code Server
CODE_SERVER_PORT=8443
CODE_SERVER_PASSWORD=change_me_code_password

# Docusaurus (docs)
DOCUSAURUS_PORT=3200

# ---------------------------------------------------------------------
# Spider Roll ‚Äî MLOps & Experimentation
# ---------------------------------------------------------------------
MLFLOW_PORT=5000
MLFLOW_ARTIFACT_URI=s3://mlflow/
# If using MinIO for artifacts, keep AWS_* in MinIO section below.

RAY_DASHBOARD_PORT=8265

# ---------------------------------------------------------------------
# Shoyu ‚Äî Data Lifecycle & Management
# ---------------------------------------------------------------------
# MinIO
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change_me_minio_password
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001
MINIO_CONSOLE_PORT=9001
MINIO_API_PORT=9000
# S3 SDK compatibility for clients (MLflow, backups, etc.)
AWS_ACCESS_KEY_ID=${MINIO_ROOT_USER}
AWS_SECRET_ACCESS_KEY=${MINIO_ROOT_PASSWORD}
AWS_DEFAULT_REGION=us-east-1
S3_ENDPOINT=http://minio:9000

# Backups (Restic / Duplicati)
RESTIC_REPOSITORY=s3:s3.amazonaws.com/your-bucket/path   # or http://minio:9000/bucket
RESTIC_PASSWORD=change_me_restic
DUPLICATI_PORT=8200
DUPLICATI_PASS=change_me_duplicati

# pgAdmin
PGADMIN_PORT=5050
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=change_me_pgadmin

# RedisInsight (optional GUI)
REDISINSIGHT_PORT=5540

# ---------------------------------------------------------------------
# Hanko ‚Äî Security / Identity / Secrets
# ---------------------------------------------------------------------
# Authentik (IdP/SSO)
AUTHENTIK_SECRET_KEY=change_me_authentik_secret
AUTHENTIK_OUTPOSTS__DISCOVER=true
AUTHENTIK_ADMIN_EMAIL=admin@example.com
AUTHENTIK_ADMIN_PASSWORD=change_me_authentik
AUTHENTIK_HTTP_PORT=9000
AUTHENTIK_HTTPS_PORT=9443

# Infisical (secrets manager)
INFISICAL_SITE_URL=http://localhost:8080
INFISICAL_ENCRYPTION_KEY=change_me_infisical
INFISICAL_ADMIN_EMAIL=admin@example.com
INFISICAL_ADMIN_PASSWORD=change_me_infisical

# Vaultwarden (password manager)
VAULTWARDEN_PORT=8089
VAULTWARDEN_ADMIN_TOKEN=change_me_vaultwarden

# Keycloak (optional enterprise IdP)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=change_me_keycloak
KC_HTTP_PORT=8081

# ---------------------------------------------------------------------
# Gunkanmaki ‚Äî High-Performance Inference
# ---------------------------------------------------------------------
# vLLM
VLLM_PORT=8000
VLLM_MODEL=Qwen/Qwen2.5-7B-Instruct
# TGI
TGI_PORT=8084
HUGGINGFACE_HUB_CACHE=/data/hf-cache

# ---------------------------------------------------------------------
# Makimono ‚Äî Collaboration & API Docs
# ---------------------------------------------------------------------
# Gitea
GITEA_HTTP_PORT=3350
GITEA_SSH_PORT=3351
GITEA_ROOT_URL=http://localhost:${GITEA_HTTP_PORT}
GITEA_ADMIN_USER=admin
GITEA_ADMIN_PASSWORD=change_me_gitea
GITEA_ADMIN_EMAIL=admin@example.com

# Homepage (service dashboard)
HOMEPAGE_PORT=3004

# API Docs
REDOC_PORT=8087
SWAGGERUI_PORT=8088

# ---------------------------------------------------------------------
# Ports ‚Äî Add custom overrides below if needed
# ---------------------------------------------------------------------
# CUSTOM_SERVICE_PORT=8080
